<html><head>
  <meta charset="utf-8">
  <title>Hjson, the Human JSON</title>
  <meta name="description" content="Hjson is a configuration file format that caters to humans and helps reduce errors. It's JSON with comments but without trailing comma problems.">
  <meta name="viewport" content="width=device-width">
  <link rel="canonical" href="http://hjson.org/">
  <link rel="stylesheet" type="text/css" href="css/md.css">
  <link rel="stylesheet" type="text/css" href="css/pg.css">
  <script type="text/javascript">if (window.location.href.indexOf("github.io")>0) window.location.href="http://hjson.org";</script>
</head>

<body>

<div id="forkongithub"><a href="https://github.com/laktak/hjson">Star on GitHub</a></div>

<div class="content">
<h1 id="hjson-the-human-json">Hjson, the Human JSON</h1>
<p><span class="big">A configuration file format that caters to humans and helps reduce the errors they make.</span></p>
<div class="get"><a class="xbt" href="#platforms">Get Hjson!</a><a class="xbt xbt2" href="try.html">Try It!</a></div><div class="info"><a href="#tools">Tools</a> - <a href="#cheat-sheet">Cheat Sheet</a></div><h2 id="intro">Intro</h2><div class="sam"><div class="aa"><h3 id="comments-yay-">Comments, yay!</h3><h4><strong>"What exactly is this value? A comment would help!"</strong></h4><p>Sure, comments allow you to document your data.</p></div><div class="bb"><pre><code>{
  # specify rate in requests/second
  "rate": 1000

  // prefer c-style comments?
  /* feeling old fashioned? */
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="quotes">Quotes</h3><h4><strong>"Why do I have to place key names in quotes?"</strong></h4><p>Glad you asked. Actually you don't need to do that!</p></div><div class="bb"><pre><code>{
  key: "value"
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="commas">Commas</h3><h4><strong>"Now I forgot the comma at the end."</strong></h4><p>So you did. But lucky for you, in Hjson they are only required if two or more values are on the same line.</p></div><div class="bb"><pre><code>{
  one: 1
  two: 2
  # only multiple values on
  # the same line need them:
  array: [1,2,3]
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="quoteless">Quoteless</h3><h4><strong>"Come to think of it, why do I have to place strings in quotes?"</strong></h4><p>You are right. Let's make quotes for strings optional as well.</p></div><div class="bb"><pre><code>{
  text: look ma, no quotes!
  # quoteless strings include everything
  # up to the end of the line (so no comma).
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="escapes">Escapes</h3><h4><strong>"When there are no quotes, do I need escapes?"</strong></h4><p>No, escapes are gone from unquoted strings.</p></div><div class="bb"><pre><code>{
  # write a regex without escaping the escape
  regex: ^\d*\.{0,1}\d+$

  # quotes in the content need no escapes
  inject: &lt;div class="important"&gt;&lt;/div&gt;

  # escapes work like in JSON inside quotes
  escape: "\\ \n \t \""
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="multiline">Multiline</h3><h4><strong>"Multiline strings are kind of hard to read."</strong></h4><p><code>"I wonder\nwhy you\nsay that."</code> Hjson will let you write them with proper whitespace handling.</p></div><div class="bb"><pre><code>{
  haiku:
    '''
    JSON I love you.
    But strangled is my data.
    This, so much better.
    '''
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="javascript">JavaScript</h3><h4><strong>"OMG, you broke JavaScript!"</strong></h4><p>JSON is not JavaScript, it's a data interchange format that can be used in many languages.</p></div><div class="bb"><pre><code>/*
 * Hjson, like JSON, is not limited
 * to JavaScript.
 */
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="json">JSON</h3><h4><strong>"OK but OMG, now you broke JSON!"</strong></h4><p>JSON is a great data format that can be edited by hand but it has a very strict syntax.</p><p>A more forgiving format makes it easier for Humans to write, it reduces unnecessary mistakes and is also nicer to read.</p></div><div class="bb"><pre><code>/*
 * Hjson does not replace JSON.
 * Use it for configuration files
 * and things like debug dumps.
 *
 * For protocols and anything
 * else use JSON.
 */
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="yaml">YAML</h3><h4><strong>"OK but still, do we need another YAML/HOCON/etc.?"</strong></h4><p>YAML expresses structure through whitespace. Significant whitespace is a common source of mistakes that we shouldn't have to deal with.</p><p>Both HOCON and YAML make the mistake of implementing too many features (like anchors, sustitutions or concatenation).</p></div><div class="bb"><pre><code>/*
 * A data format for Humans
 * should be lean and simple.
 */
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="round-trip">Round trip</h3><h4><strong>"Can Hjson keep my comments when updating a config file?"</strong></h4><p>Yes, Hjson allows you to round-trip your data, including your comments.</p></div><div class="bb"><pre><code>var data = Hjson.rt.parse(text);

// use data like a normal object
data.foo = "text";

// stringify with comments
text = Hjson.rt.stringify(data);
</code></pre></div><div class="clear"></div></div>
































<h2 id="syntax">Syntax</h2>
<p>The Hjson syntax is a superset of JSON (<a href="http://json.org/">see json.org</a>) but allows you to</p>
<ul>
<li>add <code>#</code>, <code>//</code> or <code>/**/</code> comments,</li>
<li>omit <code>""</code> for keys,</li>
<li>omit <code>""</code> for strings,</li>
<li>omit <code>,</code> at the end of a line and</li>
<li>use multiline strings with proper whitespace handling.</li>
</ul>
<p>You are also allowed to omit the root <code>{}</code> braces for objects.</p>
<h4 id="cheat-sheet">Cheat Sheet</h4>
<p>Simple rules to remember:</p>
<ul>
<li>if your key includes a JSON control character like <code>{}[],:</code> or space, use quotes</li>
<li>if your string starts with <code>{</code> or <code>[</code>, use quotes</li>
<li>remember that quoteless strings include everything up to the end of the line, excluding trailing whitespace.</li>
</ul>
<h4 id="details">Details</h4>
<ul>
<li><p>Keys</p>
<p>You only need to add quotes if the key name includes whitespace or any of these characters: <code>{}[],:</code>.</p>
</li>
<li><p>Strings</p>
<p>When you omit quotes the string ends at the newline. Preceding and trailing whitespace is ignored as are escapes.</p>
<p>A value that is a <em>number</em>, <code>true</code>, <code>false</code> or <code>null</code> in JSON is parsed as a value. E.g. <code>3</code> is a valid <em>number</em> while <code>3 times</code> is a string.</p>
<p>Naturally a quoteless string cannot start with <code>{</code> or <code>[</code>.</p>
<p>Use quotes to have your string handled like in JSON. This also allows you to specify a comment after the string.</p>
</li>
<li><p>Multiline Strings</p>
<ul>
<li>Start with triple quotes <code>'''</code>, whitespace on the first line is ignored</li>
<li><code>'''</code> defines the head, on the following lines all whitespace up to this column is ignored</li>
<li>all other whitespace is assumed to be part of the string.</li>
<li>ends with triple quotes <code>'''</code>. The last newline is ignored to allow for better formatting.</li>
</ul>
<p>A multiline string is OS and file independent. The line feed is always <code>\n</code>.</p>
</li>
<li><p>Commas</p>
<p>Commas are optional at the end of a line. You only need commas to specify multiple values on one line (e.g. <code>[1,2,3]</code>).</p>
<p>Trailing commas are ignored.</p>
</li>
<li><p>Comments</p>
<p><code>#</code> and <code>//</code> start a single line comment.</p>
<p><code>/*</code> starts a multiline comment that ends with <code>*/</code>.</p>
</li>
<li><p>Root braces</p>
<p>Can be omitted for objects.</p>
</li>
<li><p>Mime Type</p>
<p><code>text/hjson</code> (pending)</p>
</li>
<li><p>File extension</p>
<p><code>.hjson</code></p>
</li>
<li><p>Header</p>
<p>Hjson does not have a header but if you want to indicate the file type (in an rc file or in a database) you can use <code>#hjson</code> in the first line.</p>
</li>
</ul>
<h2 id="platforms">Platforms</h2>
<table>
<thead>
<tr>
<th>Platform</th>
<th>Source</th>
<th>Package</th>
</tr>
</thead>
<tbody>
<tr>
<td>JavaScript, Node.js &amp; Browser</td>
<td><a href="https://github.com/laktak/hjson-js">GitHub</a></td>
<td><a href="http://www.npmjs.com/package/hjson"><img src="https://img.shields.io/npm/v/hjson.svg?style=flat-square" alt="NPM version"></a></td>
</tr>
<tr>
<td>Java</td>
<td><a href="https://github.com/laktak/hjson-java">GitHub</a></td>
<td><a href="http://search.maven.org/#search|ga|1|g%3A%22org.hjson%22%20a%3A%22hjson%22"><img src="https://img.shields.io/maven-central/v/org.hjson/hjson.svg?style=flat-square" alt="Maven Central"></a></td>
</tr>
<tr>
<td>Python</td>
<td><a href="https://github.com/laktak/hjson-py">GitHub</a></td>
<td><a href="https://pypi.python.org/pypi/hjson"><img src="https://img.shields.io/pypi/v/hjson.svg?style=flat-square" alt="PyPI version"></a></td>
</tr>
<tr>
<td>C#, .Net</td>
<td><a href="https://github.com/laktak/hjson-cs">GitHub</a></td>
<td><a href="https://www.nuget.org/packages/Hjson/"><img src="https://img.shields.io/nuget/v/Hjson.svg?style=flat-square" alt="nuget version"></a></td>
</tr>
</tbody>
</table>
<p>Please <a href="https://github.com/laktak/hjson/issues">open an issue</a> if you port Hjson to another platform/language.</p>
<h4 id="editor-syntax">Editor Syntax</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Source</th>
<th>Package</th>
</tr>
</thead>
<tbody>
<tr>
<td>Atom</td>
<td><a href="https://github.com/dannyfritz/language-hjson">GitHub</a></td>
<td><a href="https://atom.io/packages/language-hjson">package</a></td>
</tr>
<tr>
<td>Sublime Text / TextMate</td>
<td><a href="https://github.com/laktak/sublime-hjson">GitHub</a></td>
<td><a href="https://packagecontrol.io/packages/Hjson">packagecontrol.io</a></td>
</tr>
<tr>
<td>Notepad++</td>
<td><a href="https://github.com/laktak/npp-hjson">GitHub</a></td>
<td>see source</td>
</tr>
</tbody>
</table>
<h4 id="integrated-with">Integrated with</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Link</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>any-json</strong>: convert (almost) anything to JSON</td>
<td><a href="http://www.npmjs.com/package/any-json"><img src="https://img.shields.io/npm/v/any-json.svg?style=flat-square" alt="NPM version"></a></td>
<td><a href="https://github.com/laktak/any-json#usage">see readme</a></td>
</tr>
<tr>
<td><strong>gulp</strong>: the streaming build system</td>
<td><a href="http://www.npmjs.com/package/gulp-hjson"><img src="https://img.shields.io/npm/v/gulp-hjson.svg?style=flat-square" alt="NPM version"></a></td>
<td><a href="https://github.com/laktak/gulp-hjson#usage">see readme</a></td>
</tr>
<tr>
<td><strong>grunt</strong>: the JavaScript task runner</td>
<td><a href="http://www.npmjs.com/package/grunt-hjson"><img src="https://img.shields.io/npm/v/grunt-hjson.svg?style=flat-square" alt="NPM version"></a></td>
<td><a href="https://github.com/laktak/grunt-hjson#usage">see readme</a></td>
</tr>
<tr>
<td><strong>hjsonify</strong>: a browserify transform to require Hjson files</td>
<td><a href="http://www.npmjs.com/package/hjsonify"><img src="https://img.shields.io/npm/v/hjsonify.svg?style=flat-square" alt="NPM version"></a></td>
<td><a href="https://github.com/dannyfritz/hjsonify#usage">see readme</a></td>
</tr>
<tr>
<td><strong>node-config</strong>: node.js application configuration</td>
<td><a href="http://www.npmjs.com/package/config"><img src="https://img.shields.io/npm/v/config.svg?style=flat-square" alt="NPM version"></a></td>
<td><a href="https://github.com/lorenwest/node-config/wiki/Configuration-Files#human-json---hjson">see wiki</a></td>
</tr>
<tr>
<td><strong>nconf</strong>: hierarchical node.js configuration</td>
<td><a href="http://www.npmjs.com/package/nconf"><img src="https://img.shields.io/npm/v/nconf.svg?style=flat-square" alt="NPM version"></a></td>
<td><code>nconf.file({ file: 'file.hjson',</code><br><code>format: require('hjson').rt });</code><br><code>// round trips your comments</code></td>
</tr>
<tr>
<td><strong>rc</strong>: non-configurable configuration loader for lazy people.</td>
<td><a href="http://www.npmjs.com/package/rc"><img src="https://img.shields.io/npm/v/rc.svg?style=flat-square" alt="NPM version"></a></td>
<td><code>var conf=require('rc')('appname', {/*defaults*/},</code><br><code>null, require('hjson').parse);</code></td>
</tr>
</tbody>
</table>
<h2 id="tools">Tools</h2>
<p>All versions work on Linux, OS X &amp; Windows and allow you to convert Hjson from/to JSON.</p>
<p><a href="http://nodejs.org/"><strong>node.js</strong></a></p>
<p>Install with <code>npm i hjson -g</code></p>
<p><code>hjson file.json</code> will convert to Hjson.<br><code>hjson -j file.hjson</code> will convert to JSON.</p>
<p><a href="https://www.python.org/"><strong>Python</strong></a></p>
<p>Install with <code>pip install hjson</code></p>
<p><code>python -m hjson.tool file.json</code> will convert to Hjson.<br><code>python -m hjson.tool -j file.hjson</code> will convert to JSON.</p>
<p><a href="http://www.visualstudio.com/en-US/products/visual-studio-express-vs"><strong>C# .Net</strong></a> &amp; <a href="http://www.mono-project.com/"><strong>Mono</strong></a></p>
<p>As Nuget does not install commandline tools</p>
<ul>
<li>please build <a href="https://github.com/laktak/hjson-cs">from source</a></li>
<li>and add <code>cli\bin\Release</code> to your path.</li>
</ul>
<p><code>hjsonc file.json</code> will convert to Hjson.<br><code>hjsonc -j file.hjson</code> will convert to JSON.</p>
<h2 id="history">History</h2>
<ul>
<li>2015-05-06: Allow root braces to be omitted.</li>
<li>2015-01-11: Simplified the syntax for quoteless keys. Previously only alphanumeric keys were allowed without quotes.</li>
<li>2015-01-11: Fixed multiline strings: OS/file independent (EOL is always <code>\n</code>). Also the last LF is removed to allow for better formatting.</li>
<li>2015-01-06: Simplified the syntax for quoteless strings. Previously unquoted strings starting with a <em>number</em>, <code>true</code>, <code>false</code> or <code>null</code> were not allowed.</li>
<li>2015-01-02: Added // and /**/ comment support</li>
<li>2014-12-02: Added mime type and file extension.</li>
<li>2014-05-09: Added multiline strings.</li>
<li>2014-03-19: First draft</li>
</ul>

</div>

<div class="footer">
  <a href="https://github.com/laktak/hjson/issues">Feedback &amp; Issues</a> | <a href="https://github.com/laktak">Contact</a>
</div>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49208230-1', 'auto');
  ga('send', 'pageview');

</script>


</body><script class="jsdom" src="node_modules/jquery/dist/jquery.js"></script><script class="jsdom" src="dom.js"></script></html>