<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <link rel="stylesheet" type="text/css" href="css/md.css" />
  <title>Hjson</title>
  <style>#forkongithub a{background:#000;color:#fff;text-decoration:none;font-family:arial, sans-serif;text-align:center;font-weight:bold;padding:5px 40px;font-size:1rem;line-height:2rem;position:relative;transition:0.5s;}#forkongithub a:hover{background:#060;color:#fff;}#forkongithub a::before,#forkongithub a::after{content:"";width:100%;display:block;position:absolute;top:1px;left:0;height:1px;background:#fff;}#forkongithub a::after{bottom:1px;top:auto;}@media screen and (min-width:800px){#forkongithub{position:absolute;display:block;top:0;right:0;width:200px;overflow:hidden;height:200px;}#forkongithub a{width:200px;position:absolute;top:60px;right:-60px;transform:rotate(45deg);-webkit-transform:rotate(45deg);box-shadow:4px 4px 10px rgba(0,0,0,0.8);}}</style>
</head>

<body>


<span id="forkongithub"><a href="https://github.com/laktak/hjson">Feedback on GitHub</a></span>

<div class="content">
<h1 id="hjson-is-json-commas-comments-for-humans">Hjson is JSON - commas + comments for Humans</h1>
<p>JSON is a data-interchange format for machines. Hjson tries to be close to its syntax, so you don&#39;t have to learn anything new, but to make it more readable and easier to edit.</p>
<p>Use it</p>
<ul>
<li>for configuration files,</li>
<li>for debug output</li>
<li>or where it will be primarily read/edited by a human.</li>
</ul>
<p>In Hjson, you can</p>
<ul>
<li>omit <code>,</code> at the end of a line,</li>
<li>omit <code>&quot;&quot;</code> for keys that contain only <code>letters</code> and <code>digits</code>,</li>
<li>omit <code>&quot;&quot;</code> for strings values that<ul>
<li>do not start with a <code>digit</code>, <code>-</code>, <code>{</code>, <code>[</code> or <code>#</code>,</li>
<li>do not start with the keywords <code>true</code>, <code>false</code> or <code>null</code> and</li>
<li>do not use escapes<br>(The string terminates at the newline.)</li>
</ul>
</li>
<li>add <code># comments</code>  (the parser treats comments like whitespace),</li>
<li>use multiline strings with proper whitespace handling:<ul>
<li>starts with triple quotes <code>&#39;&#39;&#39;</code>, whitespace on the first line is ignored</li>
<li><code>&#39;&#39;&#39;</code> defines the head, on the following lines all whitespace up to this column is ignored</li>
<li>all other whitespace is assumed to be part of the string.</li>
<li>ends with triple quotes <code>&#39;&#39;&#39;</code>.</li>
</ul>
</li>
<li>or use JSON (Hjson is a superset).</li>
</ul>
<p>That means that you can write:</p>
<pre><code>{
  # look, no quotes or commas!
  foo: Hello World!
  bar: Hello Hjson!
}
</code></pre><p>instead of:</p>
<pre><code>{
  &quot;foo&quot;: &quot;Hello World!&quot;,
  &quot;bar&quot;: &quot;Hello Hjson!&quot;
}
</code></pre><h2 id="implementations">Implementations</h2>
<ul>
<li><p>JavaScript &amp; CLI Tool</p>
<ul>
<li><a href="https://github.com/laktak/hjson-js">https://github.com/laktak/hjson-js</a><br>I took the standard JSON parser/stringifier and modified it for Hjson. Since they often served as a template for porting JSON to other languages it should make it easier to port Hjson.</li>
</ul>
</li>
<li><p>Gulp</p>
<ul>
<li><a href="https://github.com/laktak/gulp-hjson">https://github.com/laktak/gulp-hjson</a></li>
</ul>
</li>
<li><p>C#</p>
<ul>
<li><a href="https://github.com/laktak/hjson-cs">https://github.com/laktak/hjson-cs</a></li>
</ul>
</li>
</ul>
<h2 id="why-">Why?</h2>
<ul>
<li><p>JSON does not allow comments.</p>
<p>In configuration files, comments make it easier to describe what each setting does. It also allows you to comment out/toggle settings.</p>
</li>
</ul>
<pre><code># LogLevel: Control the number of messages logged to the error_log.
# Possible values include: debug, info, notice, warn, error, crit, alert, emerg.
#
#LogLevel: warn
#LogLevel: debug
LogLevel: notice
</code></pre><ul>
<li>JSON requires commas but does not allow trailing commas. We often get them wrong, especially when using copy &amp; paste.</li>
</ul>
<pre><code>{
  &quot;foo&quot;: &quot;Hello World!&quot;,
  &quot;bar&quot;: &quot;Hello Hjson!&quot;
  &quot;bar2&quot;: &quot;Hello Again!&quot;
}
</code></pre><ul>
<li>JSON requires quotes for keys and all strings. This does not help readability.</li>
</ul>
<h2 id="why-not-">Why not ...</h2>
<ul>
<li><p>XML</p>
<p>It&#39;s widely supported but its syntax is too verbose and it&#39;s hard to read.</p>
</li>
<li><p>YAML</p>
<p>YAML tries to be a <em>human friendly data serialization standard for all programming languages</em>.</p>
<p>While the basic idea is good, its weak points are:</p>
<ul>
<li>it introduces more syntax</li>
<li>its structure relies on identation</li>
<li>tabs are not allowed</li>
</ul>
<p>The last two points are can be fixed by a good editor. However configuration files often have to be changed in environments that may not have your favorite editor installed.</p>
</li>
<li><p>CSON</p>
<p>CSONs parser is not secure, it recommends to be used only with configuration you can trust.</p>
</li>
</ul>
<h2 id="faq-">FAQ:</h2>
<ul>
<li><p>Why aren&#39;t <code>{</code> and <code>}</code> optional?</p>
<p>If they were optional you would have to use identation to define the structure of your data. This can cause problems with tabs and when using unfamiliar editors. In Hjson, like JSON, whitespace is ignored. You can, but you don&#39;t have to indent your data.</p>
</li>
</ul>
<h2 id="sample-">Sample:</h2>
<pre><code>{
  # comments are treated like whitespace - they are not parsed

  # text
  text:        This is a valid string value.
  quote:       &quot;You need quotes\tfor escapes&quot;
  otherwise:   a \ is just a \

  # multiline text
  multiline:
    &#39;&#39;&#39;
    first line
      indented line
    third line
    &#39;&#39;&#39;

  # keys
  abc123:      no quotes for keys that contain only a-z, A-Z and 0-9
  &quot;a/b.c &quot;:    a key with any other characters still needs quotes

  # comma
  commas:      &quot;can be omitted at the end of the line&quot;
  but:         [ 1, 2, 3 ] # not between elements on the same line
  trailing:    [ 1, 2, 3, ] # a trailing comma is OK

  # numbers, keywords and arrays work just like in JSON
  number:      5
  negative:    -4.2
  yes:         true
  no:          false
  null:        null
  array:       [ 1, 2 ]
  array2:      [
    1
    2
  ]
}
</code></pre><p>is equivalent to the following JSON:</p>
<pre><code>{
  &quot;text&quot;:      &quot;This is a valid string value.&quot;,
  &quot;quote&quot;:     &quot;You need quotes\tfor escapes&quot;,
  &quot;otherwise&quot;: &quot;a \\ is just a \\&quot;,
  &quot;multiline&quot;: &quot;first line\n  indented line\nthird line\n&quot;,
  &quot;abc123&quot;:    &quot;no quotes for keys that contain only a-z, A-Z and 0-9&quot;,
  &quot;a/b.c &quot;:    &quot;a key with any other characters still needs quotes&quot;,
  &quot;commas&quot;:    &quot;can be omitted at the end of the line&quot;,
  &quot;but&quot;:       [ 1, 2, 3 ],
  &quot;trailing&quot;:  [ 1, 2, 3 ],
  &quot;number&quot;:    5,
  &quot;negative&quot;:  -4.2,
  &quot;yes&quot;:       true,
  &quot;no&quot;:        false,
  &quot;null&quot;:      null,
  &quot;array&quot;:     [ 1, 2 ],
  &quot;array2&quot;:    [
    1,
    2
  ]
}
</code></pre>
</div>

<div class="footer">
  <a href="https://github.com/laktak/hjson/issues">Feedback &amp; Issues</a> | <a href="https://github.com/laktak">Contact</a>
</div>

</body>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49208230-1', 'laktak.github.io');
  ga('send', 'pageview');

</script>
</html>
