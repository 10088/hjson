<html><head>
  <meta charset="utf-8">
  <title>Hjson, the Human JSON</title>
  <meta name="description" content="Hjson is a configuration file format that caters to humans and helps reduce errors. It's JSON with comments but without trailing comma problems.">
  <meta name="viewport" content="width=device-width">
  <link rel="canonical" href="http://hjson.org/">
  <link rel="stylesheet" type="text/css" href="css/md.css">
  <link rel="stylesheet" type="text/css" href="css/pg.css">
  <script type="text/javascript">if (window.location.href.indexOf("github.io")>0) window.location.href="http://hjson.org";</script>
</head>

<body>

<div id="forkongithub"><a href="https://github.com/laktak/hjson">Star on GitHub</a></div>

<div class="content">
<h1 id="hjson-the-human-json">Hjson, the Human JSON</h1>
<p><span class="big">A configuration file format that caters to humans and helps reduce the errors they make.</span></p>
<div class="get"><a class="xbt" href="#platforms">Get Hjson!</a><a class="xbt xbt2" href="try.html">Try It!</a></div><h2 id="intro">Intro</h2><div class="sam"><div class="aa"><h3 id="comments-yay-">Comments, yay!</h3><h4><strong>"What exactly is this value? A comment would help!"</strong></h4><p>Sure, comments allow you to document your data.</p></div><div class="bb"><pre><code>{
  # specify rate in requests/second
  "rate": 1000
  // maybe you prefer js style comments
  /* or if you feel old fashioned */
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="quotes">Quotes</h3><h4><strong>"Why do I have to place key names in quotes?"</strong></h4><p>Glad you asked. Actually you don't need to do that!</p></div><div class="bb"><pre><code>{
  key: "value"
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="more-quotes">More Quotes</h3><h4><strong>"Come to think of it, why do I have to place strings in quotes?"</strong></h4><p>You are right. Let's make quotes for strings optional as well.</p></div><div class="bb"><pre><code>{
  text: look ma, no quotes!
  # quoteless strings end with
  # the new-line.
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="escapes">Escapes</h3><h4><strong>"When there are no quotes, do I need escapes?"</strong></h4><p>No, escapes are gone from unquoted strings.</p></div><div class="bb"><pre><code>{
  # write a regex without escaping the escape
  regex: ^\d*\.{0,1}\d+$

  # quotes in the content need no escapes
  inject: &lt;div class="important"&gt;&lt;/div&gt;

  # escapes work inside quotes
  escape: "c:\\windows"
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="commas">Commas</h3><h4><strong>"Now I forgot the comma at the end."</strong></h4><p>So you did. But lucky for you, in Hjson they are optional.</p></div><div class="bb"><pre><code>{
  one: 1
  two: 2
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="more-commas">More Commas</h3><h4><strong>"So what if I added a trailing comma?"</strong></h4><p>Can't make up your mind or was that copy &amp; paste?</p><p>Hjson totally respects your choice of trailing commas.</p></div><div class="bb"><pre><code>{
  one: 1,
  two: 2,
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="multiline">Multiline</h3><h4><strong>"Multiline strings are kind of hard to read."</strong></h4><p><code>"I wonder\nwhy you\nsay that."</code> Hjson will let you write them with proper whitespace handling.</p></div><div class="bb"><pre><code>{
  haiku:
    '''
    JSON I love you.
    But strangled is my data.
    This, so much better.
    '''
}
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="javascript">JavaScript</h3><h4><strong>"OMG, you broke JavaScript!"</strong></h4><p>JavaScript Object Notation (JSON) is a lightweight, text-based, language-independent data interchange format. It shares some of JavaScripts syntax but it's not JavaScript.</p></div><div class="bb"><pre><code>JSON is not JavaScript.
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="json">JSON</h3><h4><strong>"OK but OMG, now you broke JSON!"</strong></h4><p>JSON is a great tool that does its job very well. Maybe too well. JSON is a great <em>hammer</em> but not everything is a nail.</p><p>Configuration files are edited by end-users, not developers. Users should not have to worry about putting commas in the correct place. Software should empower the user not hinder him.</p></div><div class="bb"><pre><code>JSON is a great hammer but
not everything is a nail.

Hjson does not replace JSON.
Use it for configuration files
and things like debug dumps.

For anything else use JSON.
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="yaml">YAML</h3><h4><strong>"OK but still, do we need another YAML?"</strong></h4><p>The YAML spec starts with <em>"YAML is a human-friendly [..] data serialization language."</em> And then makes you read 69(!) pages of it.</p><p>You could get away by using only the <em>good parts</em> but why sacrifice readability?</p></div><div class="bb"><pre><code>Do you know what the strip, clip
and keep indicators do?

What's the meaning of '|1'?

Have you ever used an anchor or an alias?

Did you know YAML has tags?
Tags as in multiple types of tags.
</code></pre></div><div class="clear"></div><hr><div class="aa"><h3 id="round-trip">Round trip</h3><h4><strong>"Can Hjson keep my comments when updating a config file?"</strong></h4><p>Yes, Hjson allows you to round-trip your data, including your comments.</p></div><div class="bb"><pre><code>var data = Hjson.rt.parse(text);

// use data like a normal object
data.foo = "text";

// stringify with comments
text = Hjson.rt.stringify(data);
</code></pre></div><div class="clear"></div></div>




































<h2 id="syntax">Syntax</h2>
<p>The Hjson syntax is a superset of JSON (<a href="http://json.org/">see json.org</a>) but allows you to</p>
<ul>
<li>add <code>#</code>, <code>//</code> or <code>/**/</code> comments,</li>
<li>omit <code>""</code> for keys,</li>
<li>omit <code>""</code> for strings,</li>
<li>omit <code>,</code> at the end of a line and</li>
<li>use multiline strings with proper whitespace handling.</li>
</ul>
<h4 id="details">Details</h4>
<ul>
<li><p>Keys</p>
<p>You only need to add quotes if the key name includes whitespace or any of these characters: <code>{}[],:</code>.</p>
</li>
<li><p>Strings</p>
<p>When you omit quotes the string ends at the newline. Preceding and trailing whitespace is ignored as are escapes.</p>
<p>A value that is a <em>number</em>, <code>true</code>, <code>false</code> or <code>null</code> in JSON is not considered a string. E.g. <code>3</code> is a number but <code>3 times</code> is a string. <code>true</code> is the value <em>true</em> but <code>true or false</code> is a string.</p>
<p>Naturally a quoteless string cannot start with <code>{</code> or <code>[</code>.</p>
<p>Use quotes to have your string handled like in JSON. This also allows you to specify a comment after the string.</p>
</li>
<li><p>Multiline Strings</p>
<ul>
<li>Start with triple quotes <code>'''</code>, whitespace on the first line is ignored</li>
<li><code>'''</code> defines the head, on the following lines all whitespace up to this column is ignored</li>
<li>all other whitespace is assumed to be part of the string.</li>
<li>ends with triple quotes <code>'''</code>. The last newline is ignored to allow for better formatting.</li>
</ul>
<p>A multiline string is OS and file independent. The line feed is always <code>\n</code>.</p>
</li>
<li><p>Commas</p>
<p>Commas are optional at the end of a line. You only need commas to specify multiple values on one line (e.g. <code>[1,2,3]</code>).</p>
<p>Trailing commas are ignored.</p>
</li>
<li><p>Comments</p>
<p><code>#</code> and <code>//</code> start a single line comment.</p>
<p><code>/*</code> starts a multiline comment that ends with <code>*/</code>.</p>
</li>
<li><p>Mime Type</p>
<p><code>text/hjson</code> (pending)</p>
</li>
<li><p>File extension</p>
<p><code>.hjson</code></p>
</li>
<li><p>Header</p>
<p>Hjson does not hava a header but if you want to indicate the file type (in an rc file or in a database) you can use <code>#hjson</code> in the first line.</p>
</li>
</ul>
<h2 id="platforms">Platforms</h2>
<table>
<thead>
<tr>
<th>Platform</th>
<th>Source</th>
<th>Download</th>
</tr>
</thead>
<tbody>
<tr>
<td>JavaScript, Node.js &amp; Browser</td>
<td><a href="https://github.com/laktak/hjson-js">GitHub</a></td>
<td><a href="http://www.npmjs.com/package/hjson"><img src="https://img.shields.io/npm/v/hjson.svg?style=flat-square" alt="NPM version"></a></td>
</tr>
<tr>
<td>Python</td>
<td><a href="https://github.com/laktak/hjson-py">GitHub</a></td>
<td><a href="https://pypi.python.org/pypi/hjson"><img src="https://img.shields.io/pypi/v/hjson.svg?style=flat-square" alt="PyPI version"></a></td>
</tr>
<tr>
<td>C#, .Net</td>
<td><a href="https://github.com/laktak/hjson-cs">GitHub</a></td>
<td><a href="https://www.nuget.org/packages/Hjson/"><img src="https://img.shields.io/nuget/v/Hjson.svg?style=flat-square" alt="nuget version"></a></td>
</tr>
</tbody>
</table>
<p>Please <a href="https://github.com/laktak/hjson/issues">open an issue</a> if you port Hjson to another platform/language.</p>
<h4 id="editor-syntax">Editor Syntax</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Source</th>
<th>Download</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sublime Text</td>
<td><a href="https://github.com/laktak/sublime-hjson">GitHub</a></td>
<td><a href="https://packagecontrol.io/packages/Hjson">packagecontrol.io</a></td>
</tr>
<tr>
<td>Notepad++</td>
<td><a href="https://github.com/laktak/npp-hjson">GitHub</a></td>
<td>see source</td>
</tr>
</tbody>
</table>
<h4 id="integrated-with">Integrated with</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>node-config</strong>: node.js application configuration <a href="http://www.npmjs.com/package/config"><img src="https://img.shields.io/npm/v/config.svg?style=flat-square" alt="NPM version"></a></td>
<td><a href="https://github.com/lorenwest/node-config/wiki/Configuration-Files#human-json---hjson">see wiki</a></td>
</tr>
<tr>
<td><strong>nconf</strong>: hierarchical node.js configuration <a href="http://www.npmjs.com/package/nconf"><img src="https://img.shields.io/npm/v/nconf.svg?style=flat-square" alt="NPM version"></a></td>
<td><code>nconf.file({ file: 'file.hjson', format: require('hjson').rt });</code><br>(round trips your comments)</td>
</tr>
<tr>
<td><strong>gulp</strong>: the streaming build system <a href="http://www.npmjs.com/package/gulp-hjson"><img src="https://img.shields.io/npm/v/gulp-hjson.svg?style=flat-square" alt="NPM version"></a></td>
<td><a href="https://github.com/laktak/gulp-hjson#usage">see readme</a></td>
</tr>
<tr>
<td><strong>Grunt</strong>: the JavaScript task runner <a href="http://www.npmjs.com/package/grunt-hjson"><img src="https://img.shields.io/npm/v/grunt-hjson.svg?style=flat-square" alt="NPM version"></a></td>
<td><a href="https://github.com/laktak/grunt-hjson#usage">see readme</a></td>
</tr>
</tbody>
</table>
<h2 id="conversion">Conversion</h2>
<p>All versions work on Linux, OS X &amp; Windows.</p>
<p><a href="http://nodejs.org/"><strong>node.js</strong></a></p>
<p>Install with <code>npm i hjson -g</code></p>
<p><code>hjson file.json</code> will convert to Hjson.<br><code>hjson -j file.hjson</code> will convert to JSON.</p>
<p><a href="https://www.python.org/"><strong>Python</strong></a></p>
<p>Install with <code>pip install hjson</code></p>
<p><code>python -m hjson.tool file.json</code> will convert to Hjson.<br><code>python -m hjson.tool -j file.hjson</code> will convert to JSON.</p>
<p><a href="http://www.visualstudio.com/en-US/products/visual-studio-express-vs"><strong>C# .Net</strong></a> &amp; <a href="http://www.mono-project.com/"><strong>Mono</strong></a></p>
<p>As Nuget does not install commandline tools</p>
<ul>
<li>please build <a href="https://github.com/laktak/hjson-cs">from source</a></li>
<li>and add <code>cli\bin\Release</code> to your path.</li>
</ul>
<p><code>hjsonc file.json</code> will convert to Hjson.<br><code>hjsonc -j file.hjson</code> will convert to JSON.</p>
<h2 id="history">History</h2>
<ul>
<li>2015-01-11: Simplified the syntax for quoteless keys. Previously only alphanumeric keys were allowed without quotes.</li>
<li>2015-01-11: Fixed multiline strings: OS/file independent (EOL is always <code>\n</code>). Also the last LF is removed to allow for better formatting.</li>
<li>2015-01-06: Simplified the syntax for quoteless strings. Previously unquoted strings starting with a <em>number</em>, <code>true</code>, <code>false</code> or <code>null</code> were not allowed.</li>
<li>2015-01-02: Added // and /**/ comment support</li>
<li>2014-12-02: Added mime type and file extension.</li>
<li>2014-05-09: Added multiline strings.</li>
<li>2014-03-19: First draft</li>
</ul>

</div>

<div class="footer">
  <a href="https://github.com/laktak/hjson/issues">Feedback &amp; Issues</a> | <a href="https://github.com/laktak">Contact</a>
</div>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49208230-1', 'auto');
  ga('send', 'pageview');

</script>


</body><script class="jsdom" src="node_modules/jquery/dist/jquery.js"></script><script class="jsdom" src="dom.js"></script></html>